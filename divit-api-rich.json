{"openapi":"3.0.0","info":{"title":"divit-api","version":"1.0","description":"APIs of Divit Pay-later service for merchant","contact":{"name":"Support","email":"support@divit.com.hk"}},"servers":[{"url":"https://dev-api.divit.dev"}],"paths":{"/orders":{"post":{"summary":"NewOrder","operationId":"post-orders","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","properties":{"orderid":{"type":"string","format":"uuid"},"redirect-uri":{"type":"string"}},"required":["orderid","redirect-uri"]}}}}},"description":"Create order on Divit","security":[{"JWT":[]}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"totalAmount":{"$ref":"#/components/schemas/money"},"nonrefundableAmount":{"$ref":"#/components/schemas/money"},"refundableAmount":{"$ref":"#/components/schemas/money"},"orderType":{"type":"string","enum":["retail"]},"orderItems":{"type":"array","items":{"type":"object","properties":{"OrderType":{"type":"string"},"OrderData":{"oneOf":[{"properties":{"productID":{"type":"string"},"productTitle":{"type":"string"},"qty":{"type":"integer"},"pics":{"type":"object"}},"required":["productID","productTitle","qty"]},{"properties":{"productID":{"type":"string"},"productTitle":{"type":"string"},"qty":{"type":"integer"},"pics":{"type":"object"}},"required":["productID","productTitle","qty"]}],"type":"object"}},"required":["OrderType","OrderData"]}},"webhook_success":{"type":"string"},"webhook_failure":{"type":"string"},"webhook_events":{"type":"string"},"expiredAt":{"type":"integer"},"partnerRef":{"type":"string"}},"required":["totalAmount","nonrefundableAmount","refundableAmount","orderType","webhook_success","webhook_failure","webhook_events","partnerRef"]},"examples":{}}},"description":"OrderInput object"},"x-codeSamples":[{"lang":"Node + Request","source":"const request = require('request');\n\nconst options = {\n  method: 'POST',\n  url: 'https://dev-api.divit.dev/orders',\n  headers: {\n    'content-type': 'application/json',\n    Authorization: 'Bearer REPLACE_BEARER_TOKEN'\n  },\n  body: {\n    totalAmount: {amount: 0, currency: 'string'},\n    nonrefundableAmount: {amount: 0, currency: 'string'},\n    refundableAmount: {amount: 0, currency: 'string'},\n    orderType: 'retail',\n    orderItems: [\n      {\n        OrderType: 'string',\n        OrderData: {productID: 'string', productTitle: 'string', qty: 0, pics: {}}\n      }\n    ],\n    webhook_success: 'string',\n    webhook_failure: 'string',\n    webhook_events: 'string',\n    expiredAt: 0,\n    partnerRef: 'string'\n  },\n  json: true\n};\n\nrequest(options, function (error, response, body) {\n  if (error) throw new Error(error);\n\n  console.log(body);\n});\n"},{"lang":"Shell + Curl","source":"curl --request POST \\\n  --url https://dev-api.divit.dev/orders \\\n  --header 'Authorization: Bearer REPLACE_BEARER_TOKEN' \\\n  --header 'content-type: application/json' \\\n  --data '{\"totalAmount\":{\"amount\":0,\"currency\":\"string\"},\"nonrefundableAmount\":{\"amount\":0,\"currency\":\"string\"},\"refundableAmount\":{\"amount\":0,\"currency\":\"string\"},\"orderType\":\"retail\",\"orderItems\":[{\"OrderType\":\"string\",\"OrderData\":{\"productID\":\"string\",\"productTitle\":\"string\",\"qty\":0,\"pics\":{}}}],\"webhook_success\":\"string\",\"webhook_failure\":\"string\",\"webhook_events\":\"string\",\"expiredAt\":0,\"partnerRef\":\"string\"}'"},{"lang":"Shell + Httpie","source":"echo '{\"totalAmount\":{\"amount\":0,\"currency\":\"string\"},\"nonrefundableAmount\":{\"amount\":0,\"currency\":\"string\"},\"refundableAmount\":{\"amount\":0,\"currency\":\"string\"},\"orderType\":\"retail\",\"orderItems\":[{\"OrderType\":\"string\",\"OrderData\":{\"productID\":\"string\",\"productTitle\":\"string\",\"qty\":0,\"pics\":{}}}],\"webhook_success\":\"string\",\"webhook_failure\":\"string\",\"webhook_events\":\"string\",\"expiredAt\":0,\"partnerRef\":\"string\"}' |  \\\n  http POST https://dev-api.divit.dev/orders \\\n  Authorization:'Bearer REPLACE_BEARER_TOKEN' \\\n  content-type:application/json"},{"lang":"Python + Python3","source":"import http.client\n\nconn = http.client.HTTPSConnection(\"dev-api.divit.dev\")\n\npayload = \"{\\\"totalAmount\\\":{\\\"amount\\\":0,\\\"currency\\\":\\\"string\\\"},\\\"nonrefundableAmount\\\":{\\\"amount\\\":0,\\\"currency\\\":\\\"string\\\"},\\\"refundableAmount\\\":{\\\"amount\\\":0,\\\"currency\\\":\\\"string\\\"},\\\"orderType\\\":\\\"retail\\\",\\\"orderItems\\\":[{\\\"OrderType\\\":\\\"string\\\",\\\"OrderData\\\":{\\\"productID\\\":\\\"string\\\",\\\"productTitle\\\":\\\"string\\\",\\\"qty\\\":0,\\\"pics\\\":{}}}],\\\"webhook_success\\\":\\\"string\\\",\\\"webhook_failure\\\":\\\"string\\\",\\\"webhook_events\\\":\\\"string\\\",\\\"expiredAt\\\":0,\\\"partnerRef\\\":\\\"string\\\"}\"\n\nheaders = {\n    'content-type': \"application/json\",\n    'Authorization': \"Bearer REPLACE_BEARER_TOKEN\"\n    }\n\nconn.request(\"POST\", \"/orders\", payload, headers)\n\nres = conn.getresponse()\ndata = res.read()\n\nprint(data.decode(\"utf-8\"))"},{"lang":"Php + Curl","source":"<?php\n\n$curl = curl_init();\n\ncurl_setopt_array($curl, [\n  CURLOPT_URL => \"https://dev-api.divit.dev/orders\",\n  CURLOPT_RETURNTRANSFER => true,\n  CURLOPT_ENCODING => \"\",\n  CURLOPT_MAXREDIRS => 10,\n  CURLOPT_TIMEOUT => 30,\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\n  CURLOPT_CUSTOMREQUEST => \"POST\",\n  CURLOPT_POSTFIELDS => \"{\\\"totalAmount\\\":{\\\"amount\\\":0,\\\"currency\\\":\\\"string\\\"},\\\"nonrefundableAmount\\\":{\\\"amount\\\":0,\\\"currency\\\":\\\"string\\\"},\\\"refundableAmount\\\":{\\\"amount\\\":0,\\\"currency\\\":\\\"string\\\"},\\\"orderType\\\":\\\"retail\\\",\\\"orderItems\\\":[{\\\"OrderType\\\":\\\"string\\\",\\\"OrderData\\\":{\\\"productID\\\":\\\"string\\\",\\\"productTitle\\\":\\\"string\\\",\\\"qty\\\":0,\\\"pics\\\":{}}}],\\\"webhook_success\\\":\\\"string\\\",\\\"webhook_failure\\\":\\\"string\\\",\\\"webhook_events\\\":\\\"string\\\",\\\"expiredAt\\\":0,\\\"partnerRef\\\":\\\"string\\\"}\",\n  CURLOPT_HTTPHEADER => [\n    \"Authorization: Bearer REPLACE_BEARER_TOKEN\",\n    \"content-type: application/json\"\n  ],\n]);\n\n$response = curl_exec($curl);\n$err = curl_error($curl);\n\ncurl_close($curl);\n\nif ($err) {\n  echo \"cURL Error #:\" . $err;\n} else {\n  echo $response;\n}"},{"lang":"Php + Http1","source":"<?php\n\n$request = new HttpRequest();\n$request->setUrl('https://dev-api.divit.dev/orders');\n$request->setMethod(HTTP_METH_POST);\n\n$request->setHeaders([\n  'content-type' => 'application/json',\n  'Authorization' => 'Bearer REPLACE_BEARER_TOKEN'\n]);\n\n$request->setBody('{\"totalAmount\":{\"amount\":0,\"currency\":\"string\"},\"nonrefundableAmount\":{\"amount\":0,\"currency\":\"string\"},\"refundableAmount\":{\"amount\":0,\"currency\":\"string\"},\"orderType\":\"retail\",\"orderItems\":[{\"OrderType\":\"string\",\"OrderData\":{\"productID\":\"string\",\"productTitle\":\"string\",\"qty\":0,\"pics\":{}}}],\"webhook_success\":\"string\",\"webhook_failure\":\"string\",\"webhook_events\":\"string\",\"expiredAt\":0,\"partnerRef\":\"string\"}');\n\ntry {\n  $response = $request->send();\n\n  echo $response->getBody();\n} catch (HttpException $ex) {\n  echo $ex;\n}"},{"lang":"Php + Http2","source":"<?php\n\n$client = new http\\Client;\n$request = new http\\Client\\Request;\n\n$body = new http\\Message\\Body;\n$body->append('{\"totalAmount\":{\"amount\":0,\"currency\":\"string\"},\"nonrefundableAmount\":{\"amount\":0,\"currency\":\"string\"},\"refundableAmount\":{\"amount\":0,\"currency\":\"string\"},\"orderType\":\"retail\",\"orderItems\":[{\"OrderType\":\"string\",\"OrderData\":{\"productID\":\"string\",\"productTitle\":\"string\",\"qty\":0,\"pics\":{}}}],\"webhook_success\":\"string\",\"webhook_failure\":\"string\",\"webhook_events\":\"string\",\"expiredAt\":0,\"partnerRef\":\"string\"}');\n\n$request->setRequestUrl('https://dev-api.divit.dev/orders');\n$request->setRequestMethod('POST');\n$request->setBody($body);\n\n$request->setHeaders([\n  'content-type' => 'application/json',\n  'Authorization' => 'Bearer REPLACE_BEARER_TOKEN'\n]);\n\n$client->enqueue($request)->send();\n$response = $client->getResponse();\n\necho $response->getBody();"}]}}},"components":{"schemas":{"money":{"title":"money","type":"object","properties":{"amount":{"type":"integer"},"currency":{"type":"string"}},"required":["amount","currency"]}},"securitySchemes":{"JWT":{"type":"http","scheme":"bearer"}}},"security":[{"JWT":[]}]}
